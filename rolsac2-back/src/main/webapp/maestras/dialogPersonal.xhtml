<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:my="http://java.sun.com/jsf/composite/components"
>
<!--
PÃ gina amb el llistat de personal d'una unitat administrativa.
-->
<ui:composition template="/WEB-INF/templates/layoutDialog.xhtml">


    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam id="MODO_ACCESO" name="MODO_ACCESO" value="#{dialogPersonal.modoAcceso}" />
            <f:viewParam id="ID" name="ID" value="#{dialogPersonal.codigo}" />
            <f:viewAction action="#{dialogPersonal.load}" />
        </f:metadata>
    </ui:define>


    <ui:define name="pageTitleDialog">
        <h:outputFormat value="#{labels['dialogPersonal.titulo']}" /> <h:outputFormat value="- #{dialogPersonal.data.nombre} " rendered="{!dialogPersonal.isAlta()}" /> <h:outputFormat value="- #{dialogPersonal.data.identificador} " rendered="{!dialogPersonal.isAlta()}" />
    </ui:define>


    <ui:define name="contentDialog">
            <p:growl id="messagesDialog"
                     globalOnly="false"
                     showDetail="true"
                     life="5000"
                     escape="false"/>

           <p:tabView >
                         <p:tab title="#{labels['dialogPersonal.datosPersonales']}">
                             <div class="row">
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dict.codigo']}:"  for="txtCodigo" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText id="txtCodigo" value="#{dialogPersonal.data.codigo}" styleClass="w95"  disabled="true"  />
                                 </div>

                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <p:outputLabel value="#{labels['dict.nombre']}:" for="txtNombre" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText id="txtNombre" value="#{dialogPersonal.data.nombre}" styleClass="w95" required="#{empty param['formDialog:closeButton']}"  disabled="#{dialogPersonal.isModoConsulta()}"  />
                                 </div>

                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <p:outputLabel value="#{labels['dict.identificador']}:"  for="txtIdentificador" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText id="txtIdentificador" value="#{dialogPersonal.data.identificador}" styleClass="w95"  required="#{empty param['formDialog:closeButton']}" disabled="#{dialogPersonal.isModoConsulta()}" maxlength="50"  />
                                 </div>

                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dict.cargo']}:" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.cargo}" styleClass="w95"  disabled="#{dialogPersonal.isModoConsulta()}" maxlength="500"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dict.funciones']}:" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.funciones}" styleClass="w95"  disabled="#{dialogPersonal.isModoConsulta()}" maxlength="4000"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2" >
                                     <h:outputText value="#{labels['dict.unidadAdministrativa']}:" for="uaPersonal" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4" >
                                     <my:unidadAdministrativaComponent id="uaPersonal" value="#{dialogPersonal.data.unidadAdministrativa}"
                                                                       idioma="#{sessionBean.lang}" ocultarTexto="false" esCabecera="false" >
                                     </my:unidadAdministrativaComponent>
                                 </div>
                             </div>
                         </p:tab>
                         <p:tab title="#{labels['dialogPersonal.contacto']}">
                             <div class="row">
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dict.email']}:" for="txtEmail" />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText id="txtEmail" value="#{dialogPersonal.data.email}" styleClass="w95" disabled="#{dialogPersonal.isModoConsulta()}" >
                                         <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]"  />
                                     </p:inputText>
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dialogPersonal.telefonoFijo']}:"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.telefonoFijo}" styleClass="w95" disabled="#{dialogPersonal.isModoConsulta()}"  maxlength="5" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" />
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dialogPersonal.telefonoMovil']}:"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.telefonoMovil}" styleClass="w95" disabled="#{dialogPersonal.isModoConsulta()}" maxlength="5"  onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" />
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dialogPersonal.telefonoExteriorFijo']}:"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.telefonoExteriorFijo}" styleClass="w95" disabled="#{dialogPersonal.isModoConsulta()}" maxlength="9" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" />
                                 </div>
                                 <div class="ui-g-12 ui-md-3 ui-lg-2">
                                     <h:outputText value="#{labels['dialogPersonal.telefonoExteriorMovil']}:"  />
                                 </div>
                                 <div class="ui-g-12 ui-md-9 ui-lg-4">
                                     <p:inputText value="#{dialogPersonal.data.telefonoExteriorMovil}" styleClass="w95" disabled="#{dialogPersonal.isModoConsulta()}" maxlength="9" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;"  />
                                 </div>

                             </div>
                         </p:tab>
                     </p:tabView>


        </ui:define>

    <ui:define name="contentFooterDialogRight">
        <p:commandButton  action="#{dialogPersonal.ayuda}"
                          icon="pi pi-info-circle" iconPos="top"
                          value="#{labels['dict.ayuda']}"
                          process="@this" />
        <p:commandButton action="#{dialogPersonal.guardar}"
                         value="#{labels['dict.guardar']}" update="messagesDialog"
                         rendered="#{!dialogPersonal.isModoConsulta()}"
                         process="@all" />
        <p:commandButton action="#{dialogPersonal.cerrar}"
                         value="#{labels['dict.cerrar']}" process="@this" />

    </ui:define>

</ui:composition>
</html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:my="http://java.sun.com/jsf/composite/components">
<ui:composition>

    <nav class="navbar navbar-light navbar-expand-md  ">
        <div style="margin-top:5px">
            <my:unidadAdministrativaComponent id="uaGeneral" value="#{sessionBean.unidadActiva}"
                                              idioma="#{sessionBean.lang}" ocultarTexto="true" esCabecera="true">
            </my:unidadAdministrativaComponent>
        </div>
        <p:breadCrumb id="migaPan" styleClass="breadcrumb migaPan" homeDisplay="text"
                      style="background-image: none !important;background: transparent;  border: none;">
            <ui:insert name="breadcrumb"/>
        </p:breadCrumb>
        <button class="navbar-toggler ml-1" type="button" data-toggle="collapse" data-target="#collapsingNavbar2">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse justify-content-end align-items-end w100px" id="collapsingNavbar2">
            <div>
                <ul class="navbar-nav text-right">
                    <!-- Remote command para una vez se selecciona una opcion, actualizar la opcion visual en sessionBean-->
                    <p:remoteCommand name="commandSetearOpcion" action="#{sessionBean.setearOpcion}"/>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle opcionMenu" href="#">
                            #{labels[sessionBean.opcion]}
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <c:choose>
                                <c:when test="#{sessionBean.getPerfil() == TypePerfiles.SUPER_ADMINISTRADOR}">
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/superadministrador/viewEntidades.xhtml"
                                            title="#{labels['viewTipoEntidades.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoEntidades.titulo'}]); return true;">
                                        <p:ajax listener="#{sessionBean.setOpcion('Adm. entidades')}"/>
                                        <span class="mb-0 float-right "> #{labels['viewTipoEntidades.titulo']}</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/superadministrador/viewConfiguracionesGlobales.xhtml"
                                            title="#{labels['viewConfigGlobales.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewConfigGlobales.titulo'}]); return true;">
                                        <p:ajax listener="#{sessionBean.setOpcion('Conf. globales')}"/>
                                        <span class="mb-0 float-right "> #{labels['viewConfigGlobales.titulo']}</span>
                                    </p:link>

                                    <!-- Las tablas maeastras de color amarillo -->

                                    <!--En sessionBean hacer String value = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap().get("param"); -->
                                    <div class="menuD" style="margin: 0">
                                        <p:link styleClass="pb-4 dropdown-item mobil">
                                        <span class="mb-0 float-right dropdown-toggle"
                                              data-bs-toggle="dropdown">Tipos</span>
                                        </p:link>
                                        <div class="menuTipos">
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoAfectacion.xhtml"
                                                    title="#{labels['viewTipoAfectacion.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoAfectacion.titulo'}]); return true;">
                                                <p:ajax listener="#{sessionBean.setOpcion('Tipo afectación')}"/>
                                                <span class="mb-0 float-right ">#{labels['viewTipoAfectacion.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoMateriaSIA.xhtml"
                                                    title="#{labels['viewTipoMateriaSIA.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoMateriaSIA.titulo'}]); return true;">
                                                <p:ajax listener="#{sessionBean.setOpcion('Tipo Mat. SIA')}"/>
                                                <span class="mb-0 float-right">#{labels['viewTipoMateriaSIA.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoFormaInicio.xhtml"
                                                    title="#{labels['viewTipoFormaInicio.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoFormaInicio.titulo'}]); return true;">
                                                <p:ajax listener="#{sessionBean.setOpcion('Tipo Forma de Inicio')}"/>
                                                <span class="mb-0 float-right">#{labels['viewTipoFormaInicio.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoNormativa.xhtml"
                                                    title="#{labels['viewTipoNormativa.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoNormativa.titulo'}]); return true;">
                                                <span class="mb-0 float-right ">#{labels['viewTipoNormativa.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoSexo.xhtml"
                                                    title="#{labels['viewTipoSexo.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoSexo.titulo'}]); return true;">
                                                <span class="mb-0 float-right ">#{labels['viewTipoSexo.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoBoletin.xhtml"
                                                    title="#{labels['viewTipoBoletin.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoBoletin.titulo'}]); return true;">
                                                <span class="mb-0 float-right ">#{labels['viewTipoBoletin.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoVia.xhtml"
                                                    title="#{labels['viewTipoVia.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoVia.titulo'}]); return true;">
                                                <span class="mb-0 float-right ">#{labels['viewTipoVia.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoPublicoObjetivo.xhtml"
                                                    title="#{labels['viewTipoPublicoObjetivo.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoPublicoObjetivo.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoPublicoObjetivo.titulo']}</span>
                                            </p:link>

                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoSilencioAdministrativo.xhtml"
                                                    title="#{labels['viewTipoSilencioAdministrativo.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoSilencioAdministrativo.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoSilencioAdministrativo.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoLegitimacion.xhtml"
                                                    title="#{labels['viewTipoLegitimacion.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoLegitimacion.titulo'}]); return true;">

                                  <span
                                          class="mb-0 float-right botoCurt">#{labels['viewTipoLegitimacion.titulo']}</span>
                                            </p:link>

                                        </div>
                                    </div>
                                </c:when>
                                <c:when test="#{sessionBean.getPerfil() == TypePerfiles.ADMINISTRADOR_ENTIDAD }">

                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/entidades/viewConfiguracionEntidad.xhtml"
                                            title="#{labels['viewConfiguracionEntidad.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewConfiguracionEntidad.titulo'}]); return true;">
                                        <span class="mb-0 float-right ">#{labels['viewConfiguracionEntidad.titulo']}</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/entidades/viewPlugins.xhtml"
                                            title="#{labels['viewPlugins.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewPlugins.titulo'}]); return true;">
                                        <span class="mb-0 float-right botoCurt">#{labels['viewPlugins.titulo']}</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="/entidades/viewUsuario.xhtml"
                                            title="#{labels['viewUsuario.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewUsuario.titulo'}]); return true;">
                                        <p:ajax listener="#{sessionBean.setOpcion('Usuario')}"/>
                                        <span class="mb-0 float-right "> #{labels['viewUsuario.titulo']}</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/entidades/viewEdificios.xhtml"
                                            title="#{labels['viewEdificios.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewEdificios.titulo'}]); return true;">
                                        <span class="mb-0 float-right botoCurt">#{labels['viewEdificios.titulo']}</span>
                                    </p:link>
                                    <div class="menuD" style="margin: 0">
                                        <p:link styleClass="pb-4 dropdown-item mobil">
                                        <span class="mb-0 float-right dropdown-toggle"
                                              data-bs-toggle="dropdown">Tipos</span>
                                        </p:link>
                                        <div class="menuTipos">
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoUnidadAdministrativa.xhtml"
                                                    title="#{labels['viewTipoUnidadAdministrativa.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoUnidadAdministrativa.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoUnidadAdministrativa.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/entidades/viewTipoMediaEdificio.xhtml"
                                                    title="#{labels['viewTipoMediaEdificio.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoMediaEdificio.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoMediaEdificio.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/entidades/viewTipoMediaFicha.xhtml"
                                                    title="#{labels['viewTipoMediaFicha.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoMediaFicha.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoMediaFicha.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/entidades/viewTipoMediaUA.xhtml"
                                                    title="#{labels['viewTipoMediaUA.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoMediaUA.titulo'}]); return true;">
                                                <span class="mb-0 float-right botoCurt">#{labels['viewTipoMediaUA.titulo']}</span>
                                            </p:link>
                                            <p:link styleClass="pb-4 dropdown-item mobil"
                                                    outcome="/maestras/tipo/viewTipoTramitacion.xhtml"
                                                    title="#{labels['viewTipoTramitacion.titulo']}"
                                                    onclick="commandSetearOpcion([{name: 'opcion', value: 'viewTipoTramitacion.titulo'}]); return true;">
                                                <p:ajax listener="#{sessionBean.setOpcion('Tipo de tramitación')}"/>
                                                <span class="mb-0 float-right">#{labels['viewTipoTramitacion.titulo']}</span>
                                            </p:link>
                                        </div>
                                    </div>

                                    <!-- SIA , SOLR e indexacion, ver rolsac1 -->
                                    <!--
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="entidades/viewMantenimientoProcesos.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Manten. procesos</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="entidades/viewRolesPermisos.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Gestión permisos</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="entidades/viewPlugins.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Plugins</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="/monitorizacion/viewAvisos.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Avisos y alertas</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="/monitorizacion/viewEstadisticas.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Estadísticas</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="/monitorizacion/viewAcontecimientos.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right ">Acontecimientos</span>
                                    </p:link> -->
                                </c:when>
                                <c:when test="#{sessionBean.getPerfil() == TypePerfiles.ADMINISTRADOR_CONTENIDOS}">
                                   <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/superadministrador/viewUnidadAdministrativa.xhtml"
                                            title="#{labels['viewUnidadAdministrativa.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewUnidadAdministrativa.titulo'}]); return true;">
                                        <p:ajax listener="#{sessionBean.setOpcion('Unid. Administrativa')}"/>
                                        <span class="mb-0 float-right "> #{labels['viewUnidadAdministrativa.titulo']}</span>
                                    </p:link>

                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/maestras/viewPersonal.xhtml"
                                            title="#{labels['viewPersonal.titulo']}"
                                            onclick="commandSetearOpcion([{name: 'opcion', value: 'viewPersonal.titulo'}]); return true;">
                                        <span class="mb-0 float-right botoCurt">#{labels['viewPersonal.titulo']}</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil" outcome="/maestras/viewFichas.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right botoCurt">Fichas</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/maestras/viewNormativas.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right botoCurt">Normativas</span>
                                    </p:link>
                                    <p:link styleClass="pb-4 dropdown-item mobil"
                                            outcome="/maestras/viewProcedimientos.xhtml"
                                            title="#{labels.configuracio_link}">
                                        <span class="mb-0 float-right botoCurt">Procedimientos</span>
                                    </p:link>
                                </c:when>
                            </c:choose>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </nav>


</ui:composition>
</html>